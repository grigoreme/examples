/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */
(window.dojoWebpackJsonprealworld_app=window.dojoWebpackJsonprealworld_app||[]).push([[1],Array(20).concat([function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),i=r(37);let o="",a="";function c(e){""===a&&function(e){if("WebkitTransition"in e.style)o="webkitTransitionEnd",a="webkitAnimationEnd";else{if(!("transition"in e.style||"MozTransition"in e.style))throw new Error("Your browser is not supported");o="transitionend",a="animationend"}}(e)}function l(e,t,r){c(e);let n=!1,s=function(){n||(n=!0,e.removeEventListener(o,s),e.removeEventListener(a,s),r())};t(),e.addEventListener(a,s),e.addEventListener(o,s)}var d={enter:function(e,t,r){const n=t.enterAnimationActive||`${r}-active`;l(e,()=>{e.classList.add(r),requestAnimationFrame(function(){e.classList.add(n)})},()=>{e.classList.remove(r),e.classList.remove(n)})},exit:function(e,t,r,n){const s=t.exitAnimationActive||`${r}-active`;l(e,()=>{e.classList.add(r),requestAnimationFrame(function(){e.classList.add(s)})},()=>{n()})}},u=r(21),p=r(32),h=r(22);const f=[],g=["focus","blur","scrollIntoView","click"],b="http://www.w3.org/2000/svg",y="http://www.w3.org/1999/xlink";function m(e){return e&&Object(u.e)(e.node)}function O(e){return!!e&&Object(u.d)(e.node)}function j(e,t,r){const{node:{diffType:n,properties:s,attributes:i}}=t;if(!n||"vdom"===n)return{properties:t.node.properties,attributes:t.node.attributes,events:t.node.events};if("none"===n)return{properties:{},attributes:t.node.attributes?{}:void 0,events:t.node.events};let o={properties:{}};return i?(o.attributes={},o.events=t.node.events,Object.keys(s).forEach(t=>{o.properties[t]=e[t]}),Object.keys(i).forEach(t=>{o.attributes[t]=e.getAttribute(t)}),o):(o.properties=Object.keys(s).reduce((t,r)=>(t[r]=e.getAttribute(r)||e[r],t),{}),o)}function v(e,t){return O(e)&&O(t)?(!Object(u.c)(e.node)||!Object(u.c)(t.node)||e.node.domNode===t.node.domNode)&&(e.node.tag===t.node.tag&&e.node.properties.key===t.node.properties.key):!(!m(e)||!m(t))&&((void 0!==e.instance||"string"!=typeof t.node.widgetConstructor)&&(e.node.widgetConstructor===t.node.widgetConstructor&&e.node.properties.key===t.node.properties.key))}function _(e,t,r){for(let n=r;n<e.length;n++)if(v(e[n],t))return n;return-1}function w(e=[]){return(e=Array.isArray(e)?e:[e]).filter(e=>e&&!0!==e).join(" ").trim()}function P(e,t,r,n){n===b&&"href"===t&&r?e.setAttributeNS(y,t,r):"role"===t&&""===r||void 0===r?e.removeAttribute(t):e.setAttribute(t,r)}function k(e,t){const{domNode:r,node:{properties:n},node:{properties:{enterAnimation:s}}}=e;if(s&&!0!==s){if("function"==typeof s)return s(r,n);t.enter(r,n,s)}}function x(e,t,r){const{domNode:n,node:{properties:s}}=e,i=()=>{n&&n.parentNode&&n.parentNode.removeChild(n),e.domNode=void 0};if("function"==typeof r)return r(n,i,s);t.exit(n,s,r,i)}function A(e){return Array.prototype.slice.call(e)}function C(e){let t,r,n={sync:!1,merge:!0,transition:d,domNode:s.default.document.body,registry:null},o=[],a=[],c=[],l=new i.a,y=new i.a,C=new i.a,E=new i.a,N=new i.a,I=[],$=[],R=[];function S(e,t,r,n){let s=t&&!r;"function"==typeof t&&(s=t()),!0===s&&I.push(()=>{n[e]()})}function D(e,t,r,n,s){if(s){const r=l.get(s);e.removeEventListener(t,r)}let i=r.bind(n);"input"===t&&(i=function(e){r.call(this,e),e.target["oninput-value"]=e.target.value}.bind(n)),e.addEventListener(t,i),l.set(r,i)}function M(e,t,r,n=!1){Object.keys(t).forEach(s=>{const i="on"===s.substr(0,2)||n,o=n?s:s.substr(2);if(i&&!r[s]){const r=l.get(t[s]);r&&e.removeEventListener(o,r)}})}function L(e,t,r){const{requiresInsertBefore:n,hasPreviousSiblings:s,namespace:i,depth:o}=t,a=[],c=m(t),l=(O(r)&&r.childrenWrappers||[]).length>0,d=(n||!1!==s)&&c||l&&e.length>1;let p;for(let r=0;r<e.length;r++){const n=e[r],s={node:n,depth:o+1,order:r,requiresInsertBefore:d,hasParentWNode:c,namespace:i};if(Object(u.d)(n)&&n.properties.exitAnimation){t.hasAnimations=!0;let e=C.get(t);for(;e&&!e.hasAnimations;)e.hasAnimations=!0,e=C.get(e)}C.set(s,t),p&&E.set(p,s),a.push(s),p=s}return a}function T(e){let t,r=C.get(e);for(;!t&&r;)!t&&m(r)&&(t=r),r=C.get(r);return t}function W(e){let t,r=C.get(e);for(;!t&&r;)!t&&O(r)&&r.domNode&&(t=r.domNode),r=C.get(r);return t}function F(e){if(e.node.deferredPropertiesCallback){const t=e.node.properties;e.node.properties=Object.assign({},e.node.deferredPropertiesCallback(!0),e.node.originalProperties),I.push(()=>{K(e,{properties:t})})}}function B(e){let t=null,r=e;for(;!t;){const e=E.get(r);if(e){if(O(e)){if(e.domNode&&e.domNode.parentNode){t=e.domNode;break}r=e;continue}if(e.domNode&&e.domNode.parentNode){t=e.domNode;break}r=e}else if(!(r=C.get(r))||O(r))break}return t}function H(e,t,r){const n=e.value,s=e["oninput-value"],i=e["select-value"];i&&n!==i?(e.value=i,e.value===i&&(e["select-value"]=void 0)):(s&&n===s||t!==r)&&(e.value=t,e["oninput-value"]=void 0)}function q(e,t={},r,n=!0){const s=Object.keys(r.node.properties),i=s.length;-1===s.indexOf("classes")&&t.classes&&e.removeAttribute("class"),n&&M(e,t,r.node.properties);for(let o=0;o<i;o++){const i=s[o];let a=r.node.properties[i];const c=t[i];if("classes"===i){const t=w(c);let n=w(a);if(t!==n)if(n){if(r.merged){const t=(e.getAttribute("class")||"").split(" ");for(let e=0;e<t.length;e++)-1===n.indexOf(t[e])&&(n=`${t[e]} ${n}`)}e.setAttribute("class",n)}else e.removeAttribute("class")}else if(-1!==g.indexOf(i))S(i,a,c,e);else if("styles"===i){const t=Object.keys(a),r=t.length;for(let n=0;n<r;n++){const r=t[n],s=a[r];s!==(c&&c[r])&&(e.style[r]=s||"")}}else if(a||"string"!=typeof c||(a=""),"value"===i)"SELECT"===e.tagName&&(e["select-value"]=a),H(e,a,c);else if("key"!==i&&a!==c){const t=typeof a;"function"===t&&0===i.lastIndexOf("on",0)&&n?D(e,i.substr(2),a,r.node.bind,c):"string"===t&&"innerHTML"!==i&&n?P(e,i,a,r.namespace):"scrollLeft"===i||"scrollTop"===i?e[i]!==a&&(e[i]=a):e[i]=a}}}function K(e,t){if(e.node.attributes&&e.node.events){!function(e,t,r,n){const s=Object.keys(r),i=s.length;for(let o=0;o<i;o++){const i=s[o],a=r[i];a!==t[i]&&P(e,i,a,n)}}(e.domNode,t.attributes||{},e.node.attributes,e.namespace),q(e.domNode,t.properties,e,!1);const r=e.node.events||{};t.events&&M(e.domNode,t.events||{},e.node.events,!0),t.events=t.events||{},Object.keys(r).forEach(n=>{D(e.domNode,n,r[n],e.node.bind,t.events[n])})}else q(e.domNode,t.properties,e)}function V(){t=void 0;const e=[...o],r=[];let n;for(o=[],e.sort((e,t)=>{let r=t.depth-e.depth;return 0===r&&(r=t.order-e.order),r});n=e.pop();){let{instance:e}=n;if(-1===r.indexOf(e)&&y.has(e)){r.push(e);const t=y.get(e),n=h.c.get(e),s=C.get(t),i=E.get(t),{constructor:o,children:c}=e,l={node:{type:u.b,widgetConstructor:o,properties:n.inputProperties,children:c,bind:t.node.bind},instance:e,depth:t.depth,order:t.order};s&&C.set(l,s),i&&E.set(l,i);const{item:d}=Y({current:t,next:l});d&&(a.push(d),e&&y.set(e,l),Q())}}J(),z()}function Q(){let e;for(;e=a.pop();)if(e.type)c.push(e);else{const{current:t,next:r,meta:n}=e;U(t||f,r||f,n)}}function J(){let e;for(c.reverse();e=c.pop();)if("create"===e.type){const{parentDomNode:t,next:r,next:{domNode:s,merged:i,requiresInsertBefore:o,node:{properties:a}}}=e;if(K(r,{properties:{}}),F(r),!i){let e;o?e=B(r):N&&(e=N.get(r)),t.insertBefore(s,e),Object(u.c)(r.node)&&r.node.onAttach&&r.node.onAttach()}"OPTION"===s.tagName&&s.parentElement&&H(s.parentElement),k(r,n.transition);const c=h.c.get(r.node.bind);null!=a.key&&c&&c.nodeHandler.add(s,`${a.key}`),e.next.inserted=!0}else if("update"===e.type){const{next:t,next:{domNode:r,node:n},current:s}=e,i=C.get(t);if(i&&m(i)&&i.instance){const e=h.c.get(i.instance);e&&e.nodeHandler.addRoot()}const o=j(r,s),a=h.c.get(t.node.bind);K(t,o),F(t),a&&null!=n.properties.key&&a.nodeHandler.add(t.domNode,`${n.properties.key}`)}else if("delete"===e.type){const{current:t}=e,{exitAnimation:r}=t.node.properties;r&&!0!==r?x(t,n.transition,r):(t.domNode.parentNode.removeChild(t.domNode),t.domNode=void 0)}else if("attach"===e.type){const{instance:t,attached:r}=e,n=h.c.get(t);n.nodeHandler.addRoot(),r&&n.onAttach()}else if("detach"===e.type){if(e.current.instance){const t=h.c.get(e.current.instance);t&&t.onDetach()}e.current.domNode=void 0,e.current.node.bind=void 0,e.current.instance=void 0}}function z(){!function(){const{sync:e}=n,t=I;if(I=[],t.length){const r=()=>{let e;for(;e=t.shift();)e()};e?r():s.default.requestIdleCallback?s.default.requestIdleCallback(r):setTimeout(r)}}(),function(){const{sync:e}=n,t=$;if($=[],t.length){const r=()=>{let e;for(;e=t.shift();)e()};e?r():s.default.requestAnimationFrame(r)}}()}function U(e,t,r={}){let{mergeNodes:s=[],oldIndex:i=0,newIndex:o=0}=r;const l=e.length,d=t.length,u=l>1||l>0&&l<d,p=[];if(o<d){let r=i<l?e[i]:void 0;const a=t[o];a.hasPreviousSiblings=u,function(e,t){const{merge:r}=n;if(r&&t.length)if(O(e)){let{node:{tag:r}}=e;for(let n=0;n<t.length;n++){const s=t[n];if(r.toUpperCase()===(s.tagName||"")){const r=R.indexOf(s);-1!==r&&R.splice(r,1),t.splice(n,1),e.domNode=s;break}}}else e.mergeNodes=t}(a,s),r&&v(r,a)?(i++,o++,O(r)&&O(a)&&(a.inserted=r.inserted),p.push({current:r,next:a})):r&&-1!==_(e,a,i+1)?-1===_(t,r,o+1)?(p.push({current:r,next:void 0}),i++):(p.push({current:r,next:void 0}),p.push({current:void 0,next:a}),i++,o++):(p.push({current:void 0,next:a}),o++)}if(o<d&&a.push({current:e,next:t,meta:{mergeNodes:s,oldIndex:i,newIndex:o}}),l>i&&o>=d)for(let t=i;t<l;t++)p.push({current:e[t],next:void 0});for(let e=0;e<p.length;e++){const{item:t,dom:r,widget:n}=G(p[e]);n&&a.push(n),t&&a.push(t),r&&c.push(r)}}function G({current:e,next:i}){if(e!==i){if(!e&&i)return O(i)?function({next:e}){let t=[];const r=W(e);e.domNode?(n.merge&&(t=A(e.domNode.childNodes),R=[...R,...t]),e.merged=!0):(e.node.domNode?e.domNode=e.node.domNode:("svg"===e.node.tag&&(e.namespace=b),e.node.tag?e.namespace?e.domNode=s.default.document.createElementNS(e.namespace,e.node.tag):e.domNode=s.default.document.createElement(e.node.tag):null!=e.node.text&&(e.domNode=s.default.document.createTextNode(e.node.text))),N&&R.length&&r===R[0].parentNode&&N.set(e,R[0]));e.domNode&&e.node.children&&(e.childrenWrappers=L(e.node.children,e,null));const i=T(e);i&&!i.domNode&&(i.domNode=e.domNode);const o={next:e,parentDomNode:r,type:"create"};if(e.childrenWrappers)return{item:{current:[],next:e.childrenWrappers,meta:{mergeNodes:t}},dom:o};return{dom:o}}({next:i}):function({next:e}){let{node:{widgetConstructor:i}}=e,{registry:a}=n;if(!Object(p.c)(i))return{};const c=new i;a&&(c.registry.base=a);const l=h.c.get(c);l.invalidate=(()=>{l.dirty=!0,!l.rendering&&y.has(c)&&(o.push({instance:c,depth:e.depth,order:e.order}),function(){const{sync:e}=n;e?V():t||(t=s.default.requestAnimationFrame(()=>{V()}))}())}),l.rendering=!0,c.__setProperties__(e.node.properties,e.node.bind),c.__setChildren__(e.node.children),e.instance=c;let d=c.__render__();l.rendering=!1,d&&(d=Array.isArray(d)?d:[d],e.childrenWrappers=L(d,e,null));e.instance&&(y.set(e.instance,e),r||e.instance.isWNodeWrapper||(r=e.instance.invalidate.bind(e.instance)));return{item:{next:e.childrenWrappers,meta:{mergeNodes:e.mergeNodes}},widget:{type:"attach",instance:c,attached:!0}}}({next:i});if(e&&i){if(O(e)&&O(i))return function({current:e,next:t}){const r=W(e);if(t.domNode=e.domNode,t.namespace=e.namespace,t.node.text&&t.node.text!==e.node.text){const e=r.ownerDocument.createTextNode(t.node.text);r.replaceChild(e,t.domNode),t.domNode=e}else if(t.node.children){const r=L(t.node.children,t,e);t.childrenWrappers=r}return{item:{current:e.childrenWrappers,next:t.childrenWrappers,meta:{}},dom:{type:"update",next:t,current:e}}}({current:e,next:i});if(m(e)&&m(i))return Y({current:e,next:i})}else if(e&&!i){if(O(e))return function({current:e}){if(E.delete(e),C.delete(e),e.node.bind=void 0,e.hasAnimations)return{item:{current:e.childrenWrappers,meta:{}},dom:{type:"delete",current:e}};e.childrenWrappers&&I.push(()=>{let t,r=e.childrenWrappers||[];for(;t=r.pop();){if(t.childrenWrappers&&(r.push(...t.childrenWrappers),t.childrenWrappers=void 0),m(t)){if(t.instance){y.delete(t.instance);const e=h.c.get(t.instance);e&&e.onDetach()}t.instance=void 0}E.delete(t),C.delete(t),t.domNode=void 0,t.node.bind=void 0}});return{dom:{type:"delete",current:e}}}({current:e});if(m(e))return function({current:e}){return e=e.instance?y.get(e.instance):e,E.delete(e),C.delete(e),y.delete(e.instance),{item:{current:e.childrenWrappers,meta:{}},widget:{type:"detach",current:e}}}({current:e})}}return{}}function Y({current:e,next:t}){e=e.instance&&y.get(e.instance)||e;const{instance:r,domNode:n,hasAnimations:s}=e;if(!r)return[];const i=h.c.get(r);if(t.instance=r,t.domNode=n,t.hasAnimations=s,i.rendering=!0,r.__setProperties__(t.node.properties,t.node.bind),r.__setChildren__(t.node.children),y.set(t.instance,t),i.dirty){let n=r.__render__();return i.rendering=!1,n&&(n=Array.isArray(n)?n:[n],t.childrenWrappers=L(n,t,e)),{item:{current:e.childrenWrappers,next:t.childrenWrappers,meta:{}},widget:{type:"attach",instance:r,attached:!1}}}return i.rendering=!1,t.childrenWrappers=e.childrenWrappers,{widget:{type:"attach",instance:r,attached:!1}}}return{mount:function(t={}){n=Object.assign({},n,t);const{domNode:r}=n,s={node:Object(u.g)(function(e){return class extends h.a{constructor(){super(...arguments),this.isWNodeWrapper=!0}render(){const t=e();return this.isWNodeWrapper=Object(u.e)(t),t}}}(e),{}),order:0,depth:1};let i;for(C.set(s,{depth:0,order:0,domNode:r,node:Object(u.f)("fake")}),a.push({current:[],next:[s],meta:{mergeNodes:A(r.childNodes)}}),Q();i=R.pop();)i.parentNode&&i.parentNode.removeChild(i);J(),n.merge=!1,N=void 0,z()},invalidate:function(){r&&r()}}}var E=r(33),N=r(51),I=r(39),$=r(28);function R(e){return"string"==typeof e}class S extends E.a{constructor(){super(...arguments),this._state={},this._changePaths=new $.b,this._callbackId=0,this.get=(e=>e.value),this.apply=((e,t=!1)=>{const r=new N.b(e).apply(this._state);return this._state=r.object,t&&this.invalidate(),r.undoOperations}),this.at=((e,t)=>{const r=this.get(e),n=r&&r[t];return{path:`${e.path}/${t}`,state:e.state,value:n}}),this.onChange=((e,t)=>{const r=this._callbackId;return Array.isArray(e)||(e=[e]),e.forEach(e=>this._addOnChange(e,t,r)),this._callbackId+=1,{remove:()=>{e.forEach(e=>{const t=this._changePaths.get(e.path);t&&(t.callbacks=t.callbacks.filter(e=>e.callbackId!==r))})}}}),this._addOnChange=((e,t,r)=>{let n=this._changePaths.get(e.path);n||(n={callbacks:[],previousValue:this.get(e)}),n.callbacks.push({callbackId:r,callback:t}),this._changePaths.set(e.path,n)}),this.path=((e,...t)=>{const r=(t="string"==typeof e?[e,...t]:[...new I.a(e.path).segments,...t]).filter(R),n=r.length>1,s=new I.a(n?r:r[0]||"");return{path:s.path,state:this._state,value:s.get(this._state)}})}_runOnChanges(){const e=[];this._changePaths.forEach((t,r)=>{const{previousValue:n,callbacks:s}=t,i=new I.a(r).get(this._state);n!==i&&(this._changePaths.set(r,{callbacks:s,previousValue:i}),s.forEach(t=>{const{callback:r,callbackId:n}=t;-1===e.indexOf(n)&&(e.push(n),r())}))})}invalidate(){this._runOnChanges(),this.emit({type:"invalidate"})}}var D=r(24),M=r(29);var L=class extends E.b{constructor(){super(...arguments),this._queue=new $.b,this.maxEvents=0}emit(e){super.emit(e);let t=!1;if(this.listenersMap.forEach((r,n)=>{Object(E.c)(n,e.type)&&(t=!0)}),!t){let t=this._queue.get(e.type);if(t||(t=[],this._queue.set(e.type,t)),t.push(e),this.maxEvents>0)for(;t.length>this.maxEvents;)t.shift()}}on(e,t){let r=super.on(e,t);return this.listenersMap.forEach((e,t)=>{this._queue.forEach((e,r)=>{Object(E.c)(t,r)&&(e.forEach(e=>this.emit(e)),this._queue.delete(r))})}),r}};class T{constructor({window:e=s.default.window,onChange:t}){this._onChange=(()=>{const e=this.normalizePath(this._window.location.hash);e!==this._current&&(this._current=e,this._onChangeFunction(this._current))}),this._onChangeFunction=t,this._window=e,this._window.addEventListener("hashchange",this._onChange,!1),this._current=this.normalizePath(this._window.location.hash),this._onChangeFunction(this._current)}normalizePath(e){return e.replace("#","")}prefix(e){return"#"!==e[0]?`#${e}`:e}set(e){this._window.location.hash=this.prefix(e),this._onChange()}get current(){return this._current}destroy(){this._window.removeEventListener("hashchange",this._onChange)}}const W="__PARAM__",F=new RegExp(/^{.+}$/),B=7,H=2;function q({params:e},{params:t}){return!!Object.keys(e).every(r=>e[r]===t[r])&&Object.keys(t).every(r=>e[r]===t[r])}class K extends L{constructor(e,t={}){super(),this._routes=[],this._outletMap=Object.create(null),this._matchedOutlets=Object.create(null),this._currentParams={},this._currentQueryParams={},this._onChange=(e=>{e=this._stripLeadingSlash(e);const t=this._matchedOutlets;this._matchedOutlets=Object.create(null);const[r,n]=e.split("?");this._currentQueryParams=this._getQueryParams(n);const s=r.split("/");let i,o=this._routes.map(e=>({route:e,segments:[...s],parent:void 0,params:{}})),a=[];for(;i=o.pop();){const{route:e,parent:t,segments:r,params:n}=i;let s=0,c="index",l=0,d=!0;if(r.length<e.segments.length)d=!1;else for(;r.length>0;){if(void 0===e.segments[s]){c="partial";break}const t=r.shift();if(e.segments[s]===W)n[e.params[l++]]=t,this._currentParams=Object.assign({},this._currentParams,n);else if(e.segments[s]!==t){d=!1;break}s++}d&&(i.type=c,a.push({route:e,parent:t,type:c,params:n,segments:[]}),r.length&&(o=[...o,...e.children.map(e=>({route:e,segments:[...r],parent:i,type:c,params:Object.assign({},n)}))]))}let c=void 0,l=a.reduce((e,t)=>e&&e.route.score>t.route.score?e:t,void 0);if(l)for("partial"===l.type&&(l.type="error"),c=l.route.outlet;l;){let{type:e,params:r,parent:n,route:s}=l;const i={id:s.outlet,queryParams:this._currentQueryParams,params:r,type:e,isError:()=>"error"===e,isExact:()=>"index"===e},o=t[s.outlet];this._matchedOutlets[s.outlet]=i,o&&q(o,i)||this.emit({type:"outlet",outlet:i,action:"enter"}),l=n}else this._matchedOutlets.errorOutlet={id:"errorOutlet",queryParams:{},params:{},isError:()=>!0,isExact:()=>!1,type:"error"};const d=Object.keys(t);for(let e=0;e<d.length;e++){const r=d[e],n=this._matchedOutlets[r];n&&q(t[r],n)||this.emit({type:"outlet",outlet:t[r],action:"exit"})}this.emit({type:"nav",outlet:c,context:c?this._matchedOutlets[c]:void 0})});const{HistoryManager:r=T,base:n,window:s}=t;if(this._register(e),this._history=new r({onChange:this._onChange,base:n,window:s}),this._matchedOutlets.errorOutlet&&this._defaultOutlet){const e=this.link(this._defaultOutlet);e&&this.setPath(e)}}setPath(e){this._history.set(e)}link(e,t={}){const{_outletMap:r,_currentParams:n,_currentQueryParams:s}=this;let i=r[e];if(void 0===i)return;let o=i.fullPath;if(i.fullQueryParams.length>0){o=`${o}${i.fullQueryParams.reduce((e,t,r)=>r>0?`${e}&${t}={${t}}`:`?${t}={${t}}`,"")}`}if(t=Object.assign({},i.defaultParams,s,n,t),0===Object.keys(t).length&&i.fullParams.length>0)return;const a=[...i.fullParams,...i.fullQueryParams];for(let e=0;e<a.length;e++){const r=a[e];if(!t[r])return;o=o.replace(`{${r}}`,t[r])}return this._history.prefix(o)}getOutlet(e){return this._matchedOutlets[e]}get currentParams(){return this._currentParams}_stripLeadingSlash(e){return"/"===e[0]?e.slice(1):e}_register(e,t,r){t=t||this._routes;for(let n=0;n<e.length;n++){let{path:s,outlet:i,children:o,defaultRoute:a=!1,defaultParams:c={}}=e[n],[l,d]=s.split("?"),u=[];const p=(l=this._stripLeadingSlash(l)).split("/"),h={params:[],outlet:i,path:l,segments:p,defaultParams:r?Object.assign({},r.defaultParams,c):c,children:[],fullPath:r?`${r.fullPath}/${l}`:l,fullParams:[],fullQueryParams:[],score:r?r.score:0};a&&(this._defaultOutlet=i);for(let e=0;e<p.length;e++){const t=p[e];h.score+=B,F.test(t)&&(h.score-=H,h.params.push(t.replace("{","").replace("}","")),p[e]=W)}d&&(u=d.split("&").map(e=>e.replace("{","").replace("}",""))),h.fullQueryParams=r?[...r.fullQueryParams,...u]:u,h.fullParams=r?[...r.fullParams,...h.params]:h.params,o&&o.length>0&&this._register(o,h.children,h),this._outletMap[i]=h,t.push(h)}}_getQueryParams(e){const t={};if(e){const r=e.split("&");for(let e=0;e<r.length;e++){const[n,s]=r[e].split("=");t[n]=s}}return t}}var V=r(47),Q=r(48),J=r(49),z=r(50),U=r(40),G=r(46),Y=r(34),X=r(44);function Z(e,t=X.a,r){return Object(Y.a)((n,s)=>{n.addDecorator(`diffProperty:${e}`,t.bind(null)),n.addDecorator("registeredDiffProperty",e),(r||s)&&n.addDecorator("diffReaction",{propertyName:e,reaction:s?n[s]:r})})}var ee=Z;let te=class extends h.a{onRouterKeyChange(e,t){const{routerKey:r="router"}=t,n=this.registry.getInjector(r);this._handle&&(this._handle.destroy(),this._handle=void 0),n&&(this._handle=n.invalidator.on("invalidate",()=>{this.invalidate()}),this.own(this._handle))}onAttach(){this._handle||this.onRouterKeyChange(this.properties,this.properties)}render(){const{renderer:e,id:t,routerKey:r="router"}=this.properties,n=this.registry.getInjector(r);if(n){const r=n.injector(),s=r.getOutlet(t);if(s){const{queryParams:t,params:n,type:i,isError:o,isExact:a}=s,c=e({queryParams:t,params:n,type:i,isError:o,isExact:a,router:r});if(c)return c}}return null}};M.__decorate([Z("routerKey")],te.prototype,"onRouterKeyChange",null);te=M.__decorate([Object(G.a)()],te);var re=r(23);class ne extends h.b{_renderLink(e=!1){let t=this.properties,{activeClasses:r,classes:n=[]}=t,s=M.__rest(t,["activeClasses","classes"]);return n=Array.isArray(n)?n:[n],e&&(n=[...n,...r]),s=Object.assign({},s,{classes:n}),Object(u.g)(re.b,s,this.children)}_onOutletPropertyChange(e,t){const{to:r,routerKey:n="router"}=t,s=this.registry.getInjector(n);if(this._outletHandle&&(this._outletHandle.destroy(),this._outletHandle=void 0),s){const e=s.injector();this._outletHandle=e.on("outlet",({outlet:e})=>{e.id===r&&this.invalidate()})}}render(){const{to:e,routerKey:t="router",params:r}=this.properties,n=this.registry.getInjector(t);if(!n)return this._renderLink();const s=n.injector().getOutlet(e),i=s&&function(e={},t={}){return Object.keys(e).every(r=>e[r]===t[r])}(r,s.params);return this._renderLink(i)}}M.__decorate([ee("to")],ne.prototype,"_onOutletPropertyChange",null);var se=ne;var ie=Object(D.a)(class extends h.a{_authenticatedMenu(){const{loggedInUser:e}=this.properties;return[Object(u.f)("li",{key:"new-post",classes:"nav-item"},[Object(u.g)(se,{classes:["nav-link"],activeClasses:["active"],to:"new-post"},[Object(u.f)("i",{classes:"ion-compose"}),"New Post"])]),Object(u.f)("li",{key:"settings",classes:"nav-item"},[Object(u.g)(se,{classes:["nav-link"],activeClasses:["active"],to:"settings"},[Object(u.f)("i",{classes:"ion-gear"}),"Settings"])]),Object(u.f)("li",{key:"user",classes:"nav-item"},[Object(u.g)(re.b,{classes:["nav-link"],to:"user",params:{username:e}},[Object(u.f)("i",{classes:"ion-gear"}),e])])]}_unauthenticatedMenu(){return[Object(u.f)("li",{key:"sign-in",classes:"nav-item"},[Object(u.g)(se,{classes:["nav-link"],activeClasses:["active"],to:"login"},["Sign In"])]),Object(u.f)("li",{key:"sign-up",classes:"nav-item"},[Object(u.g)(se,{classes:["nav-link"],activeClasses:["active"],to:"register"},["Sign Up"])])]}render(){const{isAuthenticated:e}=this.properties;return Object(u.f)("nav",{classes:["navbar","navbar-light"]},[Object(u.f)("div",{classes:"container"},[Object(u.f)("a",{classes:"navbar-brand"},["conduit"]),Object(u.f)("ul",{classes:["nav","navbar-nav pull-xs-right"]},[Object(u.f)("li",{classes:"nav-item"},[Object(u.g)(se,{classes:["nav-link"],activeClasses:["active"],to:"home"},["Home"])]),...e?this._authenticatedMenu():this._unauthenticatedMenu()])])])}},"state",{paths:[["user"]],getProperties:function(e){const{get:t,path:r}=e;return{isAuthenticated:!!t(r("user","token")),loggedInUser:t(r("user","username"))}}}),oe=r(64);class ae extends h.a{render(){return Object(u.f)("div",{classes:"banner"},[Object(u.f)("div",{classes:"container"},[Object(u.f)("h1",{classes:"logo-font"},["conduit"]),Object(u.f)("p",["A place to share your knowledge."])])])}}var ce=r(52);var le=Object(D.a)(class extends h.a{render(){const{tags:e=[]}=this.properties;return Object(u.f)("div",{classes:"col-md-3"},[Object(u.f)("div",{classes:"sidebar"},[Object(u.f)("p",["Popular Tags"]),Object(u.f)("div",{classes:"tag-list"},e.map((e,t)=>Object(u.f)("a",{href:"",onclick:t=>{t.preventDefault(),this.properties.fetchFeed({type:"tag",page:0,filter:e})},key:`${t}`,classes:["tag-pill","tag-default"]},[e])))])])}},"state",{paths:[["tags"]],getProperties:function(e){const{get:t,path:r}=e;return{tags:t(r("tags"))||[],fetchFeed:Object(U.b)(e)}}});class de extends h.a{render(){return Object(u.f)("div",{classes:"home-page"},[Object(u.g)(ae,{}),Object(u.f)("div",{classes:["container","page"]},[Object(u.f)("div",{classes:"row"},[Object(u.g)(ce.a,{}),Object(u.g)(le,{})])])])}}class ue extends h.a{render(){return Object(u.f)("footer",[Object(u.f)("div",{classes:"container"},[Object(u.f)("a",{href:"/",classes:"logo-font"},["conduit"]),Object(u.f)("span",{classes:"attribution"},["An interactive learning project from ",Object(u.f)("a",{href:"https://thinkster.io"},["Thinkster"])," Code & design licensed under MIT."])])])}}var pe={LoginContainer:()=>r.e(9).then(r.bind(null,69)),RegisterContainer:()=>r.e(11).then(r.bind(null,68)),ProfileContainer:()=>r.e(10).then(r.bind(null,66)),EditorContainer:()=>Promise.resolve().then(r.bind(null,64)),ArticleContainer:()=>r.e(8).then(r.bind(null,65)),SettingsContainer:()=>r.e(12).then(r.bind(null,67))};class he extends h.a{render(){return Object(u.f)("div",[Object(u.g)(ie,{}),Object(u.g)(te,{id:"login",renderer:()=>Object(u.g)({label:"__autoRegistryItem_LoginContainer",registryItem:pe.LoginContainer},{})}),Object(u.g)(te,{id:"register",renderer:()=>Object(u.g)({label:"__autoRegistryItem_RegisterContainer",registryItem:pe.RegisterContainer},{})}),Object(u.g)(te,{id:"user",renderer:e=>{if(e.isExact())return Object(u.g)({label:"__autoRegistryItem_ProfileContainer",registryItem:pe.ProfileContainer},{type:"user",username:e.params.username})}}),Object(u.g)(te,{id:"favorites",renderer:e=>Object(u.g)({label:"__autoRegistryItem_ProfileContainer",registryItem:pe.ProfileContainer},{type:"favorites",username:e.params.username})}),Object(u.g)(te,{id:"edit-post",renderer:e=>Object(u.g)(oe.default,{slug:e.params.slug})}),Object(u.g)(te,{id:"new-post",renderer:e=>{if(e.isExact())return Object(u.g)({label:"__autoRegistryItem_EditorContainer",registryItem:pe.EditorContainer},{slug:e.params.slug})}}),Object(u.g)(te,{id:"article",renderer:e=>Object(u.g)({label:"__autoRegistryItem_ArticleContainer",registryItem:pe.ArticleContainer},{slug:e.params.slug})}),Object(u.g)(te,{id:"settings",renderer:()=>Object(u.g)({label:"__autoRegistryItem_SettingsContainer",registryItem:pe.SettingsContainer},{})}),Object(u.g)(te,{id:"home",renderer:e=>{if(e.isExact())return Object(u.g)(de,{})}}),Object(u.g)(ue,{})])}}var fe=r(30),ge=r(25),be=r(26),ye=r(27),me=r(31);const Oe=Object(ye.a)(({path:e})=>fe.a(void 0,void 0,void 0,function*(){const t=yield fetch(`${me.a}/tags`),r=yield t.json();return[Object(be.c)(e("tags"),r.tags)]})),je=Object(ge.b)("get-tags",[Oe]);var ve=r(35);const _e=Object(ye.a)(({path:e,payload:{outlet:t,context:r}})=>[Object(be.c)(e("routing","outlet"),t),Object(be.c)(e("routing","params"),r.params),Object(be.c)(e("settings","loaded"),!1),Object(be.c)(e("profile","loaded"),!1),Object(be.c)(e("feed","loaded"),!1),Object(be.c)(e("feed","category"),void 0),Object(be.c)(e("editor","loaded"),!1),Object(be.c)(e("errors"),{})]),we=Object(ge.b)("change-route",[_e]),Pe=new S;let ke;Object(n.exists)("build-time-render")||Object(n.add)("build-time-render",!1),Object(n.default)("build-time-render")||(ke=s.default.sessionStorage.getItem("conduit-session")),ke&&Object(ve.i)(Pe)({session:JSON.parse(ke)}),je(Pe)({});const xe=Object(D.b)(Pe),Ae=function(e,t,r={}){const{key:n="router"}=r,s=M.__rest(r,["key"]);if(t.hasInjector(n))throw new Error("Router has already been defined");const i=new K(e,s);return t.defineInjector(n,e=>(i.on("nav",()=>e()),()=>i)),i}([{path:"login",outlet:"login"},{path:"register",outlet:"register"},{path:"user/{username}",outlet:"user"},{path:"user/{username}/favorites",outlet:"favorites"},{path:"article/{slug}",outlet:"article"},{path:"settings",outlet:"settings"},{path:"editor",outlet:"new-post",children:[{path:"editor/{slug}",outlet:"edit-post"}]},{path:"home",outlet:"home",defaultRoute:!0}],xe);function Ce(){const e=Pe.get(Pe.path("routing","outlet")),t=Pe.get(Pe.path("routing","params"));if(e){const r=Ae.link(e,t);void 0!==r&&Ae.setPath(r)}}Ae.on("nav",({outlet:e,context:t})=>{we(Pe)({outlet:e,context:t})}),Pe.onChange(Pe.path("routing","outlet"),Ce),Pe.onChange(Pe.path("routing","params"),Ce),Ae.on("outlet",({outlet:e,action:t})=>{if("enter"===t)switch(e.id){case"user":e.isExact()&&(Object(z.b)(Pe)({username:e.params.username}),Object(U.b)(Pe)({type:"user",page:0,filter:e.params.username}));break;case"favorites":Object(z.b)(Pe)({username:e.params.username}),Object(U.b)(Pe)({type:"favorites",page:0,filter:e.params.username});break;case"article":Object(J.f)(Pe)({slug:e.params.slug});break;case"settings":Object(Q.c)(Pe)({});break;case"edit-post":Object(V.e)(Pe)({slug:e.params.slug});break;case"home":const t=!!Pe.get(Pe.path("user","token"));Object(U.b)(Pe)({type:t?"feed":"global",page:0,filter:""})}else"edit-post"===e.id&&Object(V.c)(Pe)({})}),C(()=>Object(u.g)(he,{})).mount({domNode:document.getElementById("app"),registry:xe})},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"g",function(){return d}),r.d(t,"f",function(){return u});var n=r(29);const s="__WNODE_TYPE",i="__VNODE_TYPE",o="__DOMVNODE_TYPE";function a(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===s)}function c(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&(e.type===i||e.type===o))}function l(e){return Boolean(e&&!0!==e&&"string"!=typeof e&&e.type===o)}function d(e,t,r){return a(e)&&(t=Object.assign({},e.properties,t),r=r||e.children,e=e.widgetConstructor),{children:r||[],widgetConstructor:e,properties:t,type:s}}function u(e,t={},r){let s,o=t;if(Array.isArray(t)&&(r=t,o={}),"function"==typeof o&&(s=o,o={}),c(e)){let{classes:t=[],styles:s={}}=o,i=n.__rest(o,["classes","styles"]),a=e.properties,{classes:c=[],styles:l={}}=a,d=n.__rest(a,["classes","styles"]);c=Array.isArray(c)?c:[c],t=Array.isArray(t)?t:[t],s=Object.assign({},l,s),o=Object.assign({},d,i,{classes:[...c,...t],styles:s}),r=r||e.children,e=e.tag}return{tag:e,deferredPropertiesCallback:s,originalProperties:{},children:r,properties:o,type:i}}},function(e,t,r){"use strict";var n=r(28),s=r(37),i=r(21),o=r(44),a=r(33),c=r(32);var l,d=class extends a.a{constructor(){super(),this._registry=new c.a,this._registryWidgetLabelMap=new n.a,this._registryInjectorLabelMap=new n.a,this.own(this._registry),this.own({destroy:()=>{this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry),this.baseRegistry=void 0)}})}set base(e){this.baseRegistry&&(this._registryWidgetLabelMap.delete(this.baseRegistry),this._registryInjectorLabelMap.delete(this.baseRegistry)),this.baseRegistry=e}define(e,t){this._registry.define(e,t)}defineInjector(e,t){this._registry.defineInjector(e,t)}has(e){return this._registry.has(e)||Boolean(this.baseRegistry&&this.baseRegistry.has(e))}hasInjector(e){return this._registry.hasInjector(e)||Boolean(this.baseRegistry&&this.baseRegistry.hasInjector(e))}get(e,t=!1){return this._get(e,t,"get",this._registryWidgetLabelMap)}getInjector(e,t=!1){return this._get(e,t,"getInjector",this._registryInjectorLabelMap)}_get(e,t,r,n){const s=t?[this.baseRegistry,this._registry]:[this._registry,this.baseRegistry];for(let i=0;i<s.length;i++){const o=s[i];if(!o)continue;const a=o[r](e),c=n.get(o)||[];if(a)return a;if(-1===c.indexOf(e)){const s=o.on(e,n=>{"loaded"===n.action&&this[r](e,t)===n.item&&this.emit({type:"invalidate"})});this.own(s),n.set(o,[...c,e])}}return null}};!function(e){e.Projector="Projector",e.Widget="Widget"}(l||(l={}));var u=class extends a.a{constructor(){super(...arguments),this._nodeMap=new n.b}get(e){return this._nodeMap.get(e)}has(e){return this._nodeMap.has(e)}add(e,t){this._nodeMap.set(t,e),this.emit({type:t})}addRoot(){this.emit({type:l.Widget})}addProjector(){this.emit({type:l.Projector})}clear(){this._nodeMap.clear()}};r.d(t,"c",function(){return b}),r.d(t,"a",function(){return O});let p=0;const h=new s.b,f=new s.b,g=new s.b,b=new s.b,y=o.a.bind(null),m="__dojo_no_bind";class O{constructor(){this._initialProperties=!0,this._changedPropertyKeys=[],this._nodeHandler=new u,this._handles=[],this._children=[],this._decoratorCache=new n.b,this._properties={},this._boundRenderFunc=this.render.bind(this),this._boundInvalidate=this.invalidate.bind(this),b.set(this,{dirty:!0,onAttach:()=>{this.onAttach()},onDetach:()=>{this.onDetach(),this.destroy()},nodeHandler:this._nodeHandler,rendering:!1,inputProperties:{}}),this.own({destroy:()=>{b.delete(this),this._nodeHandler.clear(),this._nodeHandler.destroy()}}),this._runAfterConstructors()}meta(e){void 0===this._metaMap&&(this._metaMap=new n.b);let t=this._metaMap.get(e);return t||(t=new e({invalidate:this._boundInvalidate,nodeHandler:this._nodeHandler,bind:this}),this.own(t),this._metaMap.set(e,t)),t}onAttach(){}onDetach(){}get properties(){return this._properties}get changedPropertyKeys(){return[...this._changedPropertyKeys]}__setProperties__(e,t){const r=b.get(this);r&&(r.inputProperties=e);const n=this._runBeforeProperties(e),s=this.getDecorator("registeredDiffProperty"),i=[],o=Object.keys(n);if(!1===this._initialProperties||0!==s.length){const e=[...o,...Object.keys(this._properties)],r=[],a={};let c=!1;for(let o=0;o<e.length;o++){const l=e[o];if(-1!==r.indexOf(l))continue;r.push(l);const d=this._properties[l],u=this._bindFunctionProperty(n[l],t);if(-1!==s.indexOf(l)){c=!0;const e=this.getDecorator(`diffProperty:${l}`);for(let t=0;t<e.length;t++){const r=e[t](d,u);r.changed&&-1===i.indexOf(l)&&i.push(l),l in n&&(a[l]=r.value)}}else{const e=y(d,u);e.changed&&-1===i.indexOf(l)&&i.push(l),l in n&&(a[l]=e.value)}}if(c){const e=this.getDecorator("diffReaction"),t=[];e.forEach(({reaction:e,propertyName:r})=>{const n=-1!==i.indexOf(r),s=-1!==t.indexOf(e);n&&!s&&(e.call(this,this._properties,a),t.push(e))})}this._properties=a,this._changedPropertyKeys=i}else{this._initialProperties=!1;for(let e=0;e<o.length;e++){const r=o[e];"function"==typeof n[r]?n[r]=this._bindFunctionProperty(n[r],t):i.push(r)}this._changedPropertyKeys=i,this._properties=Object.assign({},n)}this._changedPropertyKeys.length>0&&this.invalidate()}get children(){return this._children}__setChildren__(e){(this._children.length>0||e.length>0)&&(this._children=e,this.invalidate())}_filterAndConvert(e){const t=Array.isArray(e),r=Array.isArray(e)?e:[e],n=[];for(let e=0;e<r.length;e++){const t=r[e];if(t&&!0!==t)if("string"!=typeof t){if(Object(i.d)(t)&&t.deferredPropertiesCallback){const e=t.deferredPropertiesCallback(!1);t.originalProperties=t.properties,t.properties=Object.assign({},e,t.properties)}if(Object(i.e)(t)&&!Object(c.c)(t.widgetConstructor)){if("function"==typeof t.widgetConstructor){let e=h.get(t.widgetConstructor);e||(e=`__lazy_widget_${p++}`,h.set(t.widgetConstructor,e),this.registry.define(e,t.widgetConstructor)),t.widgetConstructor=e}else if(s=t.widgetConstructor,Boolean(s&&s.label)){const{label:e,registryItem:r}=t.widgetConstructor;this.registry.has(e)||this.registry.define(e,r),t.widgetConstructor=e}t.widgetConstructor=this.registry.get(t.widgetConstructor)||t.widgetConstructor}t.bind||(t.bind=this),n.push(t),t.children&&t.children.length&&(t.children=this._filterAndConvert(t.children))}else n.push({tag:"",properties:{},children:void 0,text:`${t}`,type:i.a})}var s;return t?n:n[0]}__render__(){const e=b.get(this);e&&(e.dirty=!1);const t=this._runBeforeRenders(),r=this._filterAndConvert(this._runAfterRenders(t()));return this._nodeHandler.clear(),r}invalidate(){const e=b.get(this);e&&e.invalidate&&e.invalidate()}render(){return Object(i.f)("div",{},this.children)}addDecorator(e,t){if(t=Array.isArray(t)?t:[t],this.hasOwnProperty("constructor")){let r=f.get(this.constructor);r||(r=new n.b,f.set(this.constructor,r));let s=r.get(e);s||(s=[],r.set(e,s)),s.push(...t)}else{const r=this.getDecorator(e);this._decoratorCache.set(e,[...r,...t])}}_buildDecoratorList(e){const t=[];let r=this.constructor;for(;r;){const n=f.get(r);if(n){const r=n.get(e);r&&t.unshift(...r)}r=Object.getPrototypeOf(r)}const s=g.get(this.constructor)||new n.b;return s.set(e,t),g.set(this.constructor,s),t}getDecorator(e){let t=g.get(this.constructor),r=this._decoratorCache.get(e)||t&&t.get(e);return void 0!==r?r:(r=this._buildDecoratorList(e),r=[...r],this._decoratorCache.set(e,r),r)}_bindFunctionProperty(e,t){if("function"==typeof e&&!e[m]&&!1===Object(c.c)(e)){void 0===this._bindFunctionPropertyMap&&(this._bindFunctionPropertyMap=new s.b);const r=this._bindFunctionPropertyMap.get(e)||{};let{boundFunc:n,scope:i}=r;return void 0!==n&&i===t||(n=e.bind(t),this._bindFunctionPropertyMap.set(e,{boundFunc:n,scope:t})),n}return e}get registry(){return void 0===this._registry&&(this._registry=new d,this.own(this._registry),this.own(this._registry.on("invalidate",this._boundInvalidate))),this._registry}_runBeforeProperties(e){const t=this.getDecorator("beforeProperties");return t.length>0?t.reduce((e,t)=>Object.assign({},e,t.call(this,e)),Object.assign({},e)):e}_runBeforeRenders(){const e=this.getDecorator("beforeRender");return e.length>0?e.reduce((e,t)=>{const r=t.call(this,e,this._properties,this._children);return r||(console.warn("Render function not returned from beforeRender, using previous render"),e)},this._boundRenderFunc):this._boundRenderFunc}_runAfterRenders(e){const t=this.getDecorator("afterRender");return t.length>0&&(e=t.reduce((e,t)=>t.call(this,e),e)),void 0!==this._metaMap&&this._metaMap.forEach(e=>{(function(e){return Boolean(e.afterRender)})(e)&&e.afterRender()}),e}_runAfterConstructors(){const e=this.getDecorator("afterConstructor");e.length>0&&e.forEach(e=>e.call(this))}own(e){this._handles.push(e)}destroy(){for(;this._handles.length>0;){const e=this._handles.pop();e&&e.destroy()}}}O._type=c.b;t.b=O},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(29),s=r(22),i=r(21);class o extends s.a{_getProperties(){let e=this.properties,{routerKey:t="router",to:r,isOutlet:s=!0,target:i,params:o={},onClick:a}=e,c=n.__rest(e,["routerKey","to","isOutlet","target","params","onClick"]);const l=this.registry.getInjector(t);let d=r;if(l){const e=l.injector();s&&(d=e.link(d,o));const t=t=>{a&&a(t),t.defaultPrevented||0!==t.button||t.metaKey||t.ctrlKey||i||(t.preventDefault(),void 0!==d&&e.setPath(d))};return Object.assign({},c,{onclick:t,href:d})}return Object.assign({},c,{href:d})}render(){return Object(i.f)("a",this._getProperties(),this.children)}}t.b=o},function(e,t,r){"use strict";r.d(t,"a",function(){return h}),r.d(t,"b",function(){return f});var n=r(29),s=r(37),i=r(22),o=r(21),a=r(34),c=r(45),l=r(46),d=r(32);const u=new s.b;function p(e){const{name:t,paths:r,getProperties:n}=e;return Object(a.a)((e,s)=>{Object(c.a)(function(e){const s=this.registry.getInjector(t);if(s){const{injector:t}=s,i=t(),o=u.get(this)||[];if(0===o.length&&u.set(this,o),-1===o.indexOf(s)){if(r){let e;e="function"==typeof r?r(i.path):r.map(e=>i.path(e.join("/")));const t=i.onChange(e,()=>this.invalidate());this.own({destroy:()=>{t.remove()}})}else this.own(i.on("invalidate",()=>{this.invalidate()}));o.push(s)}return n(i,e)}})(e)})}function h(e,t,{paths:r,getProperties:s}){let a=class extends i.a{render(){return Object(o.g)(e,this.properties,this.children)}};return a=n.__decorate([Object(l.a)(),p({name:t,paths:r,getProperties:s})],a)}function f(e,t={}){const{key:r="state",registry:n=new d.a}=t;if(n.hasInjector(r))throw new Error(`Store has already been defined for key ${r.toString()}`);return n.defineInjector(r,()=>()=>e),n}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return c});var n=r(29),s=r(38),i=r(28);r(1);function o(){return e=>e}const a=new i.b;function c(e,t,r){const i=(r=Array.isArray(r)?r:r?[r]:[]).length?r.reduce((e,t)=>(function(e){const{before:t,after:r}=e();return e=>{const{before:n,after:s}=e?e():{};return()=>({after(e,t){s&&s(e,t),r&&r(e,t)},before(e,r){n&&n(e,r),t&&t(e,r)}})}})(t)(e)):void 0,{before:o,after:c}=i?i():{};return a.set(e,[e,t,o,c]),(r,i)=>(function(e,t,r,i,o,a){const{apply:c,get:l,path:d,at:u}=r;function p(e,t,n){return e(r)(t)}return h=>n.__awaiter(this,void 0,void 0,function*(){const n=[],f=[...t];let g=[],b=f.shift(),y=null;const m=a?a(h):h;if(i){let e=i(m,r);e&&(yield e)}try{for(;b;){let e=[];if(Array.isArray(b))e=b.map(e=>e({at:u,get:l,path:d,payload:m})),e=yield Promise.all(e);else{let t=b({at:u,get:l,path:d,payload:m});Object(s.b)(t)&&(t=yield t),e=[t]}for(let t=0;t<e.length;t++)n.push(...e[t]),g=[...c(e[t]),...g];r.invalidate(),b=f.shift()}}catch(e){y={error:e,command:b}}return o&&o(y,{undoOperations:g,store:r,id:e,operations:n,apply:c,at:u,get:l,path:d,executor:p,payload:m}),Promise.resolve({store:r,undoOperations:g,id:e,error:y,operations:n,apply:c,at:u,get:l,path:d,executor:p,payload:m})})})(e,t,r,o,c,i)}},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return a});var n=r(51),s=r(39);function i(e,t){return{op:n.a.ADD,path:new s.a(e.path),value:t}}function o(e,t){return{op:n.a.REPLACE,path:new s.a(e.path),value:t}}function a(e){return{op:n.a.REMOVE,path:new s.a(e.path)}}},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return i});var n=r(25);function s(e){const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Token ${e}`),t}const i=Object(n.a)()},function(e,t,r){"use strict";r(36);var n=r(0);r(1),r(4);let s,i,o,a,c,l,d,u,p;{const e=n.default.Object;s=e.assign,i=e.getOwnPropertyDescriptor,o=e.getOwnPropertyNames,a=e.getOwnPropertySymbols,c=e.is,l=e.keys}{const e=n.default.Object;d=e.getOwnPropertyDescriptors,u=e.entries,p=e.values}r.d(t,"a",function(){return h});let h=n.default.Map;t.b=h},function(e,t,r){(function(r){var n,s,i,o,a,c,l,d,u,p,h,f,g,b,y,m,O,j;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(v){var _="object"==typeof r?r:"object"==typeof self?self:"object"==typeof this?this:{};function w(e,t){return e!==_&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}void 0===(n=function(e){var t,r;t=w(_,w(e)),r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},s=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&(r[n[s]]=e[n[s]]);return r},a=function(e,t,r,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},c=function(e,t){return function(r,n){t(r,n,e)}},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(o,a)}c((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},p=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},f=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,s,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){s={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return o},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},b=function(e){return this instanceof b?(this.v=e,this):new b(e)},y=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{(r=s[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):d(i[0][2],r)}catch(e){d(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},m=function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,s){e[n]&&(t[n]=function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:s?s(t):t})}},O=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):h(e)},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},t("__extends",s),t("__assign",i),t("__rest",o),t("__decorate",a),t("__param",c),t("__metadata",l),t("__awaiter",d),t("__generator",u),t("__exportStar",p),t("__values",h),t("__read",f),t("__spread",g),t("__await",b),t("__asyncGenerator",y),t("__asyncDelegator",m),t("__asyncValues",O),t("__makeTemplateObject",j)}.apply(t,[t]))||(e.exports=n)}()}).call(this,r(5))},function(e,t,r){"use strict";r.d(t,"a",function(){return n});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
Object.setPrototypeOf||Array;Object.assign;function n(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(o,a)}c((n=n.apply(e,t||[])).next())})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="https://conduit.productionready.io/api"},function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"c",function(){return a}),r.d(t,"a",function(){return c});var n=r(38),s=r(28),i=r(33);const o="__widget_base_type";function a(e){return Boolean(e&&e._type===o)}class c extends i.a{emitLoadedEvent(e,t){this.emit({type:e,action:"loaded",item:t})}define(e,t){if(void 0===this._widgetRegistry&&(this._widgetRegistry=new s.b),this._widgetRegistry.has(e))throw new Error(`widget has already been registered for '${e.toString()}'`);this._widgetRegistry.set(e,t),t instanceof n.a?t.then(t=>(this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}):a(t)&&this.emitLoadedEvent(e,t)}defineInjector(e,t){if(void 0===this._injectorRegistry&&(this._injectorRegistry=new s.b),this._injectorRegistry.has(e))throw new Error(`injector has already been registered for '${e.toString()}'`);const r=new i.a,n={injector:t(()=>r.emit({type:"invalidate"})),invalidator:r};this._injectorRegistry.set(e,n),this.emitLoadedEvent(e,n)}get(e){if(!this._widgetRegistry||!this.has(e))return null;const t=this._widgetRegistry.get(e);if(a(t))return t;if(t instanceof n.a)return null;const r=t();return this._widgetRegistry.set(e,r),r.then(t=>(function(e){return Boolean(e&&e.hasOwnProperty("__esModule")&&e.hasOwnProperty("default")&&a(e.default))}(t)&&(t=t.default),this._widgetRegistry.set(e,t),this.emitLoadedEvent(e,t),t),e=>{throw e}),null}getInjector(e){return this._injectorRegistry&&this.hasInjector(e)?this._injectorRegistry.get(e):null}has(e){return Boolean(this._widgetRegistry&&this._widgetRegistry.has(e))}hasInjector(e){return Boolean(this._injectorRegistry&&this._injectorRegistry.has(e))}}},function(e,t,r){"use strict";var n=r(28),s=r(38);function i(){return s.a.resolve(!1)}function o(){throw new Error("Call made to destroyed method")}class a{constructor(){this.handles=[]}own(e){const{handles:t}=this;return t.push(e),{destroy(){t.splice(t.indexOf(e)),e.destroy()}}}destroy(){return new s.a(e=>{this.handles.forEach(e=>{e&&e.destroy&&e.destroy()}),this.destroy=i,this.own=o,e(!0)})}}r.d(t,"c",function(){return l}),r.d(t,"a",function(){return d});const c=new n.b;function l(e,t){if("string"==typeof t&&"string"==typeof e&&-1!==e.indexOf("*")){let r;return c.has(e)?r=c.get(e):(r=new RegExp(`^${e.replace(/\*/g,".*")}$`),c.set(e,r)),r.test(t)}return e===t}class d extends a{constructor(){super(...arguments),this.listenersMap=new n.b}emit(e){this.listenersMap.forEach((t,r)=>{l(r,e.type)&&[...t].forEach(t=>{t.call(this,e)})})}on(e,t){if(Array.isArray(t)){const r=t.map(t=>this._addListener(e,t));return{destroy(){r.forEach(e=>e.destroy())}}}return this._addListener(e,t)}_addListener(e,t){const r=this.listenersMap.get(e)||[];return r.push(t),this.listenersMap.set(e,r),{destroy:()=>{const r=this.listenersMap.get(e)||[];r.splice(r.indexOf(t),1)}}}}t.b=d},function(e,t,r){"use strict";function n(e){return function(t,r,n){"function"==typeof t?e(t.prototype,void 0):e(t,r)}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"c",function(){return _}),r.d(t,"g",function(){return w}),r.d(t,"a",function(){return P}),r.d(t,"b",function(){return k}),r.d(t,"e",function(){return x}),r.d(t,"f",function(){return A}),r.d(t,"h",function(){return C}),r.d(t,"i",function(){return E}),r.d(t,"d",function(){return N});var n=r(30),s=r(0),i=r(25),o=r(26),a=r(27),c=r(31);const l=Object(a.a)(({path:e,payload:{email:t}})=>[Object(o.c)(e("login","email"),t)]),d=Object(a.a)(({path:e,payload:{password:t}})=>[Object(o.c)(e("login","password"),t)]),u=Object(a.a)(({path:e,payload:{email:t}})=>[Object(o.c)(e("register","email"),t)]),p=Object(a.a)(({path:e,payload:{password:t}})=>[Object(o.c)(e("register","password"),t)]),h=Object(a.a)(({path:e,payload:{username:t}})=>[Object(o.c)(e("register","username"),t)]),f=Object(a.a)(({path:e})=>[Object(o.c)(e("login","password"),""),Object(o.c)(e("login","email"),"")]),g=Object(a.a)(({path:e})=>[Object(o.c)(e("register","password"),""),Object(o.c)(e("register","email"),""),Object(o.c)(e("register","username"),"")]),b=Object(a.a)(({path:e})=>[Object(o.c)(e("login","loading"),!0)]),y=Object(a.a)(({path:e})=>[Object(o.c)(e("register","loading"),!0)]),m=Object(a.a)(({path:e,payload:{session:t}})=>[Object(o.c)(e("user"),t)]),O=Object(a.a)(({get:e,path:t})=>n.a(void 0,void 0,void 0,function*(){const r={user:e(t("login"))},n=yield fetch(`${c.a}/users/login`,{method:"post",body:JSON.stringify(r),headers:Object(a.b)()}),i=yield n.json();return n.ok?(s.default.sessionStorage.setItem("conduit-session",JSON.stringify(i.user)),[Object(o.c)(t("routing","outlet"),"home"),Object(o.c)(t("login","loading"),!1),Object(o.c)(t("errors"),void 0),Object(o.c)(t("user"),i.user),Object(o.c)(t("feed","items"),void 0),Object(o.c)(t("feed","loaded"),!1)]):[Object(o.c)(t("login","failed"),!0),Object(o.c)(t("login","loading"),!1),Object(o.c)(t("errors"),i.errors),Object(o.c)(t("user"),{})]})),j=Object(a.a)(({get:e,path:t})=>n.a(void 0,void 0,void 0,function*(){const r={user:e(t("register"))},n=yield fetch(`${c.a}/users`,{method:"post",body:JSON.stringify(r),headers:Object(a.b)()}),i=yield n.json();return n.ok?(s.default.sessionStorage.setItem("conduit-session",JSON.stringify(i.user)),[Object(o.c)(t("routing","outlet"),"home"),Object(o.c)(t("register","loading"),!1),Object(o.c)(t("errors"),void 0),Object(o.c)(t("user"),i.user),Object(o.c)(t("feed","items"),void 0),Object(o.c)(t("feed","loaded"),!1)]):[Object(o.c)(t("register","failed"),!0),Object(o.c)(t("register","loading"),!1),Object(o.c)(t("errors"),i.errors),Object(o.c)(t("user"),{})]})),v=Object(a.a)(({path:e})=>(s.default.sessionStorage.removeItem("conduit-session"),[Object(o.c)(e("user"),{}),Object(o.c)(e("routing","outlet"),"home")])),_=Object(i.b)("login",[b,O,f]),w=Object(i.b)("register",[y,j,g]),P=Object(i.b)("login-email-input",[l]),k=Object(i.b)("login-password-input",[d]),x=Object(i.b)("register-email-input",[u]),A=Object(i.b)("register-password-input",[p]),C=Object(i.b)("register-username-input",[h]),E=Object(i.b)("set-session",[m]),N=Object(i.b)("logout",[v])},function(e,t,r){"use strict";r(4);var n=r(0),s=(r(1),r(3));let i,o,a,c,l,d,u,p,h,f;i=n.default.String.fromCodePoint,o=n.default.String.raw,a=Object(s.b)(n.default.String.prototype.codePointAt),c=Object(s.b)(n.default.String.prototype.endsWith),l=Object(s.b)(n.default.String.prototype.includes),d=Object(s.b)(n.default.String.prototype.normalize),u=Object(s.b)(n.default.String.prototype.repeat),p=Object(s.b)(n.default.String.prototype.startsWith),h=Object(s.b)(n.default.String.prototype.padEnd),f=Object(s.b)(n.default.String.prototype.padStart)},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0);r(36),r(1),r(4);let s=n.default.WeakMap;t.b=s},function(e,t,r){"use strict";r.d(t,"b",function(){return o});var n=r(0),s=(r(2),r(4),r(1));let i=n.default.Promise;const o=function(e){return e&&"function"==typeof e.then};Object(s.default)("es2018-promise-finally")||(n.default.Promise.prototype.finally=function(e){return this.then(e&&(t=>Promise.resolve(e()).then(()=>t)),e&&(t=>Promise.resolve(e()).then(()=>{throw t})))}),t.a=i},function(e,t,r){"use strict";function n(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function s(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e,t,r=!0,n=!0){r&&(t=Object.assign({},t));const s={object:t,target:t,segment:""};return e.reduce((t,s,i)=>{if(void 0===t.target)return t;if(Array.isArray(t.target)&&"-"===s&&(s=String(t.target.length-1)),i+1<e.length){const o=e[i+1];let a=t.target[s];if(void 0===a&&!n)return t.target=void 0,t;r||void 0===a?(a=Array.isArray(a)?[...a]:"object"==typeof a?Object.assign({},a):isNaN(o)||isNaN(parseInt(o,0))?{}:[],t.target[s]=a,t.target=a):t.target=a}else t.segment=s;return t},s)}r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});class o{constructor(e){if(Array.isArray(e)?this._segments=e:(this._segments=("/"===e[0]?e:`/${e}`).split("/"),this._segments.shift()),0===e.length||1===e.length&&"/"===e[0]||""===e[0])throw new Error("Access to the root is not supported.");this._segments=this._segments.map(n)}get segments(){return this._segments}get path(){return`/${this._segments.map(s).join("/")}`}get(e){const t=i(this.segments,e,!1,!1);if(void 0!==t.target)return t.target[t.segment]}toJSON(){return this.toString()}toString(){return this.path}}},function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"a",function(){return p});var n=r(30),s=r(25),i=r(26),o=r(27),a=r(31);const c=Object(o.a)(({path:e,payload:{type:t,filter:r,page:n}})=>[Object(i.c)(e("feed","loading"),!0),Object(i.c)(e("feed","loaded"),!1),Object(i.c)(e("feed","category"),t),Object(i.c)(e("feed","tagName"),"tag"===t?r:void 0),Object(i.c)(e("feed","pageNumber"),n),Object(i.c)(e("feed","items"),void 0)]),l=Object(o.a)(({get:e,path:t,payload:{type:r,page:s,filter:c}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),l=10*s;let d;switch(r){case"feed":d=`${a.a}/articles/feed?`;break;case"favorites":d=`${a.a}/articles?favorited=${c}&`;break;case"user":d=`${a.a}/articles?author=${c}&`;break;case"tag":d=`${a.a}/articles?tag=${c}&`;break;default:d=`${a.a}/articles/?`}const u=yield fetch(`${d}limit=10&offset=${l}`,{headers:Object(o.b)(n)}),p=yield u.json();return[Object(i.c)(t("feed","items"),p.articles),Object(i.c)(t("feed","total"),p.articlesCount),Object(i.c)(t("feed","offset"),l),Object(i.c)(t("feed","loading"),!1),Object(i.c)(t("feed","loaded"),!0)]})),d=Object(o.a)(({at:e,get:t,path:r,payload:{slug:s,favorited:c}})=>n.a(void 0,void 0,void 0,function*(){const n=t(r("user","token")),l=yield fetch(`${a.a}/articles/${s}/favorite`,{method:c?"delete":"post",headers:Object(o.b)(n)}),d=yield l.json(),u=function(e,t){let r=-1;for(let n=0;n<e.length;n++)if(e[n].slug===t){r=n;break}return r}(t(r("feed","items")),s);return-1!==u?[Object(i.c)(e(r("feed","items"),u),d.article)]:[]})),u=Object(s.b)("fetch-feed",[c,l]),p=Object(s.b)("fav-feed-article",[d])},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(22),s=r(21);class i extends n.a{render(){const{errors:e}=this.properties,t=Object.keys(e);let r=[];for(let n=0;n<t.length;n++)r=[...r,...e[t[n]].map(e=>`${t[n]} ${e}`)];return Object(s.f)("ul",{classes:"error-messages"},r.map(e=>Object(s.f)("li",[e])))}}},,,function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(32);function s(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function i(e,t){return{changed:e!==t,value:t}}function o(e,t){let r;return r="function"==typeof t?t._type===n.b?i(e,t):function(e,t){return{changed:!1,value:t}}(0,t):s(t)?function(e,t){let r=!1;const n=e&&s(e),i=t&&s(t);if(!n||!i)return{changed:!0,value:t};const o=Object.keys(e),a=Object.keys(t);return{changed:r=o.length!==a.length||a.some(r=>t[r]!==e[r]),value:t}}(e,t):i(e,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(34);function s(e){return Object(n.a)((t,r)=>{t.addDecorator("beforeProperties",r?t[r]:e)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(34),s=r(45);function i(){return Object(n.a)((e,t)=>{Object(s.a)(function(){this.invalidate()})(e)})}},function(e,t,r){"use strict";r.d(t,"i",function(){return O}),r.d(t,"d",function(){return j}),r.d(t,"b",function(){return v}),r.d(t,"h",function(){return _}),r.d(t,"a",function(){return w}),r.d(t,"g",function(){return P}),r.d(t,"e",function(){return k}),r.d(t,"f",function(){return x}),r.d(t,"c",function(){return A});var n=r(30),s=r(25),i=r(26),o=r(27),a=r(31);const c=Object(o.a)(({path:e,payload:{title:t}})=>[Object(i.c)(e("editor","title"),t)]),l=Object(o.a)(({path:e,payload:{description:t}})=>[Object(i.c)(e("editor","description"),t)]),d=Object(o.a)(({path:e,payload:{body:t}})=>[Object(i.c)(e("editor","body"),t)]),u=Object(o.a)(({path:e,payload:{tag:t}})=>[Object(i.c)(e("editor","tag"),t)]),p=Object(o.a)(({get:e,at:t,path:r,payload:{tag:n}})=>{const s=(e(r("editor","tagList"))||[]).length;return[Object(i.a)(t(r("editor","tagList"),s),n)]}),h=Object(o.a)(({path:e})=>[Object(i.c)(e("editor","tag"),"")]),f=Object(o.a)(({get:e,at:t,path:r,payload:{tag:n}})=>{const s=e(r("editor","tagList")).indexOf(n);return-1!==s?[Object(i.b)(t(r("editor","tagList"),s))]:[]}),g=Object(o.a)(({path:e,payload:{slug:t}})=>n.a(void 0,void 0,void 0,function*(){const r=yield fetch(`${a.a}/articles/${t}`),n=yield r.json();return[Object(i.c)(e("editor"),n.article)]})),b=Object(o.a)(({path:e})=>[Object(i.c)(e("editor"),{})]),y=Object(o.a)(({path:e})=>[Object(i.c)(e("editor","loading"),!0)]),m=Object(o.a)(({get:e,path:t})=>n.a(void 0,void 0,void 0,function*(){const r=e(t("user","token")),n=e(t("editor","slug")),s={article:e(t("editor"))},c=n?`${a.a}/articles/${n}`:`${a.a}/articles`,l=yield fetch(c,{method:n?"put":"post",headers:Object(o.b)(r),body:JSON.stringify(s)}),d=yield l.json();return l.ok?[Object(i.c)(t("article","item"),d.article),Object(i.c)(t("article","loaded"),!0),Object(i.c)(t("editor"),void 0)]:[Object(i.c)(t("editor","loading"),!1),Object(i.c)(t("errors"),d.errors)]})),O=Object(s.b)("title-input",[c]),j=Object(s.b)("desc-input",[l]),v=Object(s.b)("body-input",[d]),_=Object(s.b)("tag-input",[u]),w=Object(s.b)("add-tag",[p,h]),P=Object(s.b)("remove-tag",[f]),k=Object(s.b)("get-editor-article",[g]),x=Object(s.b)("publish-article",[y,m]),A=Object(s.b)("clear-editor",[b])},function(e,t,r){"use strict";r.d(t,"c",function(){return b}),r.d(t,"f",function(){return y}),r.d(t,"g",function(){return m}),r.d(t,"b",function(){return O}),r.d(t,"e",function(){return j}),r.d(t,"a",function(){return v}),r.d(t,"d",function(){return _});var n=r(30),s=r(25),i=r(26),o=r(27),a=r(31);const c=Object(o.a)(({payload:{email:e},path:t})=>[Object(i.c)(t("settings","email"),e)]),l=Object(o.a)(({payload:{password:e},path:t})=>[Object(i.c)(t("settings","password"),e)]),d=Object(o.a)(({payload:{username:e},path:t})=>[Object(i.c)(t("settings","username"),e)]),u=Object(o.a)(({payload:{bio:e},path:t})=>[Object(i.c)(t("settings","bio"),e)]),p=Object(o.a)(({payload:{imageUrl:e},path:t})=>[Object(i.c)(t("settings","image"),e)]),h=Object(o.a)(({path:e})=>[Object(i.c)(e("settings"),{loaded:!1,loading:!0})]),f=Object(o.a)(({path:e,get:t})=>[Object(i.c)(e("settings"),t(e("user")))]),g=Object(o.a)(({path:e,get:t})=>n.a(void 0,void 0,void 0,function*(){const r=t(e("user","token")),n=t(e("settings")),s=yield fetch(`${a.a}/user`,{method:"put",headers:Object(o.b)(r),body:JSON.stringify(n)}),c=yield s.json();return[Object(i.c)(e("user"),c.user),Object(i.c)(e("settings"),{loaded:!1,loading:!1}),Object(i.c)(e("routing","outlet"),"user"),Object(i.c)(e("routing","params"),{username:t(e("settings","username"))})]})),b=Object(s.b)("user-settings",[h,f]),y=Object(s.b)("update-user-settings",[g]),m=Object(s.b)("username-input",[d]),O=Object(s.b)("email-input",[c]),j=Object(s.b)("password-input",[l]),v=Object(s.b)("bio-input",[u]),_=Object(s.b)("image-url-input",[p])},function(e,t,r){"use strict";r.d(t,"f",function(){return y}),r.d(t,"c",function(){return m}),r.d(t,"a",function(){return O}),r.d(t,"g",function(){return j}),r.d(t,"d",function(){return v}),r.d(t,"e",function(){return _}),r.d(t,"b",function(){return w});var n=r(30),s=r(25),i=r(26),o=r(27),a=r(31);const c=Object(o.a)(({path:e})=>[Object(i.c)(e("article","item"),void 0),Object(i.c)(e("article","comments"),[]),Object(i.c)(e("article","loading"),!0),Object(i.c)(e("article","loaded"),!1)]),l=Object(o.a)(({get:e,path:t,payload:{slug:r}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),s=yield fetch(`${a.a}/articles/${r}`,{headers:Object(o.b)(n)}),c=yield s.json();return[Object(i.c)(t("article","item"),c.article),Object(i.c)(t("article","loading"),!1),Object(i.c)(t("article","loaded"),!0)]})),d=Object(o.a)(({get:e,path:t,payload:{slug:r,favorited:s}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),c=yield fetch(`${a.a}/articles/${r}/favorite`,{method:s?"delete":"post",headers:Object(o.b)(n)}),l=yield c.json();return[Object(i.c)(t("article","item"),l.article)]})),u=Object(o.a)(({get:e,path:t,payload:{username:r,following:s}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),c=yield fetch(`${a.a}/profiles/${r}/follow`,{method:s?"delete":"post",headers:Object(o.b)(n)}),l=yield c.json(),d=e(t("article","item"));return d.author=l.profile,[Object(i.c)(t("article","item"),d)]})),p=Object(o.a)(({get:e,path:t,payload:{slug:r}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),s=yield fetch(`${a.a}/articles/${r}/comments`,{headers:Object(o.b)(n)}),c=yield s.json();return[Object(i.c)(t("article","comments"),c.comments)]})),h=Object(o.a)(({at:e,get:t,path:r,payload:{slug:s,newComment:c}})=>n.a(void 0,void 0,void 0,function*(){const n=t(r("user","token")),l={comment:{body:c}},d=yield fetch(`${a.a}/articles/${s}/comments`,{method:"post",headers:Object(o.b)(n),body:JSON.stringify(l)}),u=yield d.json(),p=t(r("article","comments"));return[Object(i.c)(e(r("article","comments"),p.length),u.comment),Object(i.c)(r("article","newComment"),"")]})),f=Object(o.a)(({at:e,get:t,path:r,payload:{slug:s,id:c}})=>n.a(void 0,void 0,void 0,function*(){const n=t(r("user","token"));yield fetch(`${a.a}/articles/${s}/comments/${c}`,{method:"delete",headers:Object(o.b)(n)});const l=t(r("article","comments"));let d=-1;for(let e=0;e<l.length;e++)if(l[e].id===c){d=e;break}return-1!==d?[Object(i.b)(e(r("article","comments"),d))]:[]})),g=Object(o.a)(({path:e,payload:{newComment:t}})=>[Object(i.c)(e("article","newComment"),t)]),b=Object(o.a)(({get:e,path:t,payload:{slug:r}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token"));return yield fetch(`${a.a}/articles/${r}`,{method:"delete",headers:Object(o.b)(n)}),[]})),y=Object(s.b)("get-article",[c,[l,p]]),m=Object(s.b)("delete-comment",[f]),O=Object(s.b)("add-comment",[h]),j=Object(s.b)("new-comment-input",[g]),v=Object(s.b)("fav-article",[d]),_=Object(s.b)("follow-user",[u]),w=Object(s.b)("delete-article",[b])},function(e,t,r){"use strict";r.d(t,"b",function(){return u}),r.d(t,"a",function(){return p});var n=r(30),s=r(25),i=r(26),o=r(27),a=r(31);const c=Object(o.a)(({path:e})=>[Object(i.c)(e("profile","loading"),!0),Object(i.c)(e("profile","loaded"),!1)]),l=Object(o.a)(({get:e,path:t,payload:{username:r,following:s}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),c=yield fetch(`${a.a}/profiles/${r}/follow`,{method:s?"delete":"post",headers:Object(o.b)(n)}),l=yield c.json();return[Object(i.c)(t("profile"),l.profile)]})),d=Object(o.a)(({get:e,path:t,payload:{username:r}})=>n.a(void 0,void 0,void 0,function*(){const n=e(t("user","token")),s=yield fetch(`${a.a}/profiles/${r}`,{headers:Object(o.b)(n)}),c=yield s.json();return[Object(i.c)(t("profile","image"),c.profile.image),Object(i.c)(t("profile","bio"),c.profile.bio),Object(i.c)(t("profile","following"),c.profile.following),Object(i.c)(t("profile","loading"),!1),Object(i.c)(t("profile","loaded"),!0)]})),u=Object(s.b)("get-profile",[c,d]),p=Object(s.b)("follow-user",[l])},function(e,t,r){"use strict";var n=r(39),s=r(0);r(36),r(1),r(4);var i=s.default.Set;Math.pow(2,53);var o=r(3);let a,c,l,d,u,p,h;function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>g(e,t[r]));if(f(e)&&f(t)){const r=Object.keys(e).sort();return g(r,Object.keys(t).sort())&&r.every(r=>g(e[r],t[r]))}return e===t}function b(e,t){const r=y(t),n=y(e);if(Array.isArray(e)&&Array.isArray(t)){const r=function(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++)if(!g(e[n],t[n]))return n;return e.length!==t.length?r:-1}(e,t);return-1!==r?`Arrays differed at offset ${r}`:"Arrays are identical"}if(f(e)&&f(t)){const r=function(e,t){const r=a(new i([...Object.keys(e),...Object.keys(t)]).values());for(let n of r)if(!g(e[n],t[n]))return n}(e,t);if(r){return`Expected "${e[r]}" for object property ${r} but got "${t[r]}" instead`}return"Objects are identical"}return g(e,t)?"Values are identical":r===n?`Expected "${e}" but got "${t}" instead`:`Expected ${n} "${e}" but got ${r} "${t}" instead`}function y(e){return Array.isArray(e)?"array":typeof e}var m;function O(e,t){if(e.op===m.ADD){const t={op:m.REMOVE,path:e.path};return[{op:m.TEST,path:e.path,value:e.value},t]}if(e.op===m.REPLACE){let r;return r=void 0===e.path.get(t)?{op:m.REMOVE,path:e.path}:{op:m.REPLACE,path:e.path,value:e.path.get(t)},[{op:m.TEST,path:e.path,value:e.value},r]}return[{op:m.ADD,path:e.path,value:e.path.get(t)}]}a=s.default.Array.from,c=s.default.Array.of,l=Object(o.b)(s.default.Array.prototype.copyWithin),d=Object(o.b)(s.default.Array.prototype.fill),u=Object(o.b)(s.default.Array.prototype.find),p=Object(o.b)(s.default.Array.prototype.findIndex),h=Object(o.b)(s.default.Array.prototype.includes),r.d(t,"a",function(){return m}),r.d(t,"b",function(){return j}),function(e){e.ADD="add",e.REMOVE="remove",e.REPLACE="replace",e.TEST="test"}(m||(m={}));class j{constructor(e){this._operations=Array.isArray(e)?e:[e]}apply(e){let t=[];return{object:this._operations.reduce((e,r)=>{let s;const i=Object(n.b)(r.path.segments,e);switch(r.op){case m.ADD:s=function(e,t){return Array.isArray(e.target)?e.target.splice(parseInt(e.segment,10),0,t):e.target[e.segment]=t,e.object}(i,r.value);break;case m.REPLACE:s=function(e,t){return Array.isArray(e.target)?e.target.splice(parseInt(e.segment,10),1,t):e.target[e.segment]=t,e.object}(i,r.value);break;case m.REMOVE:s=function(e){return Array.isArray(e.target)?e.target.splice(parseInt(e.segment,10),1):delete e.target[e.segment],e.object}(i);break;case m.TEST:const t=i.target[i.segment];if(!g(t,r.value)){const e=r.path.path;throw new Error(`Test operation failure at "${e}". ${b(r.value,t)}.`)}return e;default:throw new Error("Unknown operation")}return t=[...O(r,e),...t],s},e),undoOperations:t}}}},function(e,t,r){"use strict";var n=r(22),s=r(21),i=r(23);class o extends n.a{_onFav(){const{favoriteArticle:e,article:{slug:t,favorited:r}}=this.properties;e({slug:t,favorited:r})}render(){const{article:e,article:{author:t,favorited:r}}=this.properties;let n=["btn","btn-outline-primary","btn-sm","pull-xs-right"];return r&&(n=["btn","btn-primary","btn-sm","pull-xs-right"]),Object(s.f)("div",{classes:"article-preview"},[Object(s.f)("div",{classes:"article-meta"},[Object(s.g)(i.a,{to:"user",params:{username:t.username}},[Object(s.f)("img",{src:t.image})]),Object(s.f)("div",{classes:"info"},[Object(s.g)(i.a,{classes:"author",to:"user",params:{username:t.username}},[t.username]),Object(s.f)("span",{classes:"date"},[new Date(e.createdAt).toDateString()])]),Object(s.f)("button",{onclick:this._onFav,classes:n},[Object(s.f)("i",{classes:"ion-heart"}),Object(s.f)("span",[` ${e.favoritesCount}`])]),Object(s.g)(i.a,{classes:"preview-link",to:"article",params:{slug:e.slug}},[Object(s.f)("h1",[e.title]),Object(s.f)("p",[e.description]),Object(s.f)("span",["Read more..."])])])])}}class a extends n.a{render(){const{total:e,currentPage:t,fetchFeed:r,type:n,username:i,tag:o}=this.properties;let a=[];for(let c=0;c<Math.ceil(e/10);c++){const e=t===c,l=e=>{e.preventDefault(),c!==t&&r({type:n,page:c,filter:o||i})};a.push(Object(s.f)("li",{key:c,classes:["page-item",e?"active":null]},[Object(s.f)("a",{href:"",onclick:l,classes:"page-link"},[`${c+1}`])]))}return Object(s.f)("nav",[Object(s.f)("ul",{classes:"pagination"},a)])}}var c=r(40),l=r(24);t.a=Object(l.a)(class extends n.a{_onGlobalFeedClick(e){e.preventDefault();const{username:t}=this.properties;this.properties.fetchFeed({type:"global",page:0,filter:t})}_onFeedClick(e){e.preventDefault();const{username:t}=this.properties;this.properties.fetchFeed({type:"feed",page:0,filter:t})}_buildTabs(e,t=!0){const{fetchFeed:r,total:n,currentPage:o,isAuthenticated:c,type:l,username:d,tagName:u}=this.properties,p="user"===l||"favorites"===l;return Object(s.f)("div",{classes:"col-md-9"},[Object(s.f)("div",{classes:"feed-toggle"},[Object(s.f)("ul",{classes:["nav","nav-pills","outline-active"]},[c&&!p?Object(s.f)("li",{key:"feeds",classes:"nav-item"},[Object(s.f)("a",{href:"#/",onclick:this._onFeedClick,classes:["nav-link","feed"===l?"active":null]},["Your Feeds"])]):null,p?null:Object(s.f)("li",{key:"global",classes:"nav-item"},[Object(s.f)("a",{href:"#/",onclick:this._onGlobalFeedClick,classes:["nav-link","global"===l?"active":null]},["Global Feeds"])]),"tag"===l?Object(s.f)("li",{key:"tags",classes:"nav-item"},[Object(s.f)("a",{href:"#/",classes:["nav-link","active"]},[`#${u}`])]):null,p?Object(s.f)("li",{key:"articles",classes:"nav-item"},[Object(s.g)(i.a,{to:"user",params:{username:d},classes:["nav-link","user"===l?"active":null]},["My Articles"])]):null,p?Object(s.f)("li",{key:"favs",classes:"nav-item"},[Object(s.g)(i.a,{to:"favorites",params:{username:d},classes:["nav-link","favorites"===l?"active":null]},["Favorited Articles"])]):null])]),e,t?Object(s.g)(a,{fetchFeed:r,total:n,currentPage:o,tag:u,type:l,username:d}):null])}render(){const{loading:e=!0,items:t,favoriteArticle:r}=this.properties;if(e||void 0===t)return this._buildTabs(Object(s.f)("div",{classes:"article-preview"},["Loading..."]),!1);if(0===t.length)return this._buildTabs(Object(s.f)("div",{classes:"article-preview"},["No articles here, yet!"]),!1);const n=Object(s.f)("div",t.map((e,t)=>Object(s.g)(o,{key:t,article:e,favoriteArticle:r})));return this._buildTabs(n)}},"state",{paths:[["feed"]],getProperties:function(e,t){const{get:r,path:n}=e,s=r(n("feed","loading")),i=!!r(n("user","token")),o=t.username||r(n("user","username")),a=i?"feed":"global",l=t.type?t.type:r(n("feed","category"))||a;return{items:r(n("feed","items")),type:l,loading:s,username:o,isAuthenticated:i,tagName:r(n("feed","tagName")),total:r(n("feed","total")),currentPage:r(n("feed","pageNumber")),fetchFeed:Object(c.b)(e),favoriteArticle:Object(c.a)(e)}}})},,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(22),s=r(21),i=r(41);var o=r(47),a=r(24);t.default=Object(a.a)(class extends n.a{_onTitleInput({target:{value:e}}){this.properties.onTitleInput({title:e})}_onDescriptionInput({target:{value:e}}){this.properties.onDescriptionInput({description:e})}_onContentInput({target:{value:e}}){this.properties.onContentInput({body:e})}_onTagInput({target:{value:e}}){this.properties.onTagInput({tag:e})}_onTagCreate(e){13===e.keyCode&&(e.preventDefault(),this.properties.onTagCreate({tag:e.target.value}))}_onPublishPost(){this.properties.onPublishPost({})}render(){const{onTagDelete:e,title:t,description:r,body:n,tag:o,errors:a,inProgress:c=!1,tags:l=[]}=this.properties;return Object(s.f)("div",{classes:"editor-page"},[Object(s.f)("div",{classes:["container","page"]},[Object(s.f)("div",{classes:"row"},[Object(s.f)("div",{classes:["col-md-10","offset-md-1","col-xs-12"]},[a?Object(s.g)(i.a,{errors:a}):null,Object(s.f)("form",[Object(s.f)("fieldset",[Object(s.f)("fieldset",{classes:"form-group"},[Object(s.f)("input",{classes:["form-control","form-control-lg"],type:"text",placeholder:"Article Title",value:t,oninput:this._onTitleInput})]),Object(s.f)("fieldset",{classes:"form-group"},[Object(s.f)("input",{classes:"form-control",type:"text",placeholder:"What's this article about?",value:r,oninput:this._onDescriptionInput})]),Object(s.f)("fieldset",{classes:"form-group"},[Object(s.f)("textarea",{classes:"form-control",type:"text",rows:8,placeholder:"Write your article (in markdown)",value:n,oninput:this._onContentInput})]),Object(s.f)("fieldset",{classes:"form-group"},[Object(s.f)("input",{classes:"form-control",type:"text",placeholder:"Enter tags",value:o,oninput:this._onTagInput,onkeyup:this._onTagCreate}),Object(s.f)("div",{classes:"tag-list"},l.map(t=>Object(s.f)("span",{classes:["tag-default","tag-pill"]},[Object(s.f)("i",{classes:"ion-close-round",onclick:()=>{e({tag:t})}}),t])))]),Object(s.f)("button",{classes:["btn","btn-lg","pull-xs-right","btn-primary"],type:"button",disabled:c,onclick:this._onPublishPost},["Publish Article"])])])])])])])}},"state",{paths:[["editor"],["errors"]],getProperties:function(e,t){const{get:r,path:n}=e;return{title:r(n("editor","title")),description:r(n("editor","description")),body:r(n("editor","body")),tag:r(n("editor","tag")),tags:r(n("editor","tagList")),errors:r(n("errors")),onContentInput:Object(o.b)(e),onDescriptionInput:Object(o.d)(e),onTagCreate:Object(o.a)(e),onTagDelete:Object(o.g)(e),onTagInput:Object(o.h)(e),onTitleInput:Object(o.i)(e),onPublishPost:Object(o.f)(e),slug:t.slug}}})}])]);
//# sourceMappingURL=main.3d4946c4dddc54c0743a.bundle.js.map